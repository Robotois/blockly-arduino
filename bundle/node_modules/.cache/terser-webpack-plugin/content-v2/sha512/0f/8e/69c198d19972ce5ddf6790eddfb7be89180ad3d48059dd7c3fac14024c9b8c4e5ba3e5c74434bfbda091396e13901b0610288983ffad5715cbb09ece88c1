{"code":"!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);n(1)},function(e,t,n){\"use strict\";var o={};o.LANGUAGE_NAME={de:\"Deutsch\",en:\"English\",fr:\"Français\",ja:\"日本語\"},o.LANGUAGE_RTL=[\"ar\",\"fa\",\"he\",\"lki\"],o.workspace=null,o.getStringParamFromUrl=function(e,t){var n=location.search.match(new RegExp(\"[?&]\"+e+\"=([^&]+)\"));return n?decodeURIComponent(n[1].replace(/\\+/g,\"%20\")):t},o.getLang=function(){var e=o.getStringParamFromUrl(\"lang\",\"\");return void 0===o.LANGUAGE_NAME[e]&&(e=\"en\"),e},o.isRtl=function(){return-1!=o.LANGUAGE_RTL.indexOf(o.LANG)},o.loadBlocks=function(e){try{var t=window.sessionStorage.loadOnceBlocks}catch(e){t=null}if(\"BlocklyStorage\"in window&&window.location.hash.length>1)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else if(t){delete window.sessionStorage.loadOnceBlocks;var n=Blockly.Xml.textToDom(t);Blockly.Xml.domToWorkspace(n,o.workspace)}else if(e){n=Blockly.Xml.textToDom(e);Blockly.Xml.domToWorkspace(n,o.workspace)}else\"BlocklyStorage\"in window&&window.setTimeout(BlocklyStorage.restoreBlocks,0)},o.changeLanguage=function(){if(window.sessionStorage){var e=Blockly.Xml.workspaceToDom(o.workspace),t=Blockly.Xml.domToText(e);window.sessionStorage.loadOnceBlocks=t}var n=document.getElementById(\"languageMenu\"),l=encodeURIComponent(n.options[n.selectedIndex].value),c=window.location.search;c=c.length<=1?\"?lang=\"+l:c.match(/[?&]lang=[^&]*/)?c.replace(/([?&]lang=)[^&]*/,\"$1\"+l):c.replace(/\\?/,\"?lang=\"+l+\"&\"),window.location=window.location.protocol+\"//\"+window.location.host+window.location.pathname+c},o.bindClick=function(e,t){\"string\"==typeof e&&(e=document.getElementById(e)),e.addEventListener(\"click\",t,!0),e.addEventListener(\"touchend\",t,!0)},o.importPrettify=function(){var e=document.createElement(\"script\");e.setAttribute(\"src\",\"./js/addon/run_prettify.js\"),document.head.appendChild(e)},o.getBBox_=function(e){var t=e.offsetHeight,n=e.offsetWidth,o=0,l=0;do{o+=e.offsetLeft,l+=e.offsetTop,e=e.offsetParent}while(e);return{height:t,width:n,x:o,y:l}},o.LANG=o.getLang(),o.TABS_=[\"blocks\",\"arduino\"],o.selected=\"blocks\",o.tabClick=function(e){\"tabon\"==document.getElementById(\"tab_blocks\").className&&o.workspace.setVisible(!1);for(var t=0;t<o.TABS_.length;t++){var n=o.TABS_[t];document.getElementById(\"tab_\"+n).className=\"taboff\",document.getElementById(\"content_\"+n).style.visibility=\"hidden\"}o.selected=e,document.getElementById(\"tab_\"+e).className=\"tabon\",document.getElementById(\"content_\"+e).style.visibility=\"visible\",o.renderContent(),\"blocks\"==e&&o.workspace.setVisible(!0),Blockly.svgResize(o.workspace)},o.renderContent=function(){var e=document.getElementById(\"content_\"+o.selected);if(\"content_xml\"==e.id){var t=document.getElementById(\"content_xml\"),n=Blockly.Xml.workspaceToDom(o.workspace),l=Blockly.Xml.domToPrettyText(n);t.value=l,t.focus()}else\"content_arduino\"==e.id&&o.attemptCodeGeneration(Blockly.Arduino,\"cpp\")},o.attemptCodeGeneration=function(e,t){var n=document.getElementById(\"content_\"+o.selected);if(n.textContent=\"\",o.checkAllGeneratorFunctionsDefined(e)){var l=e.workspaceToCode(o.workspace);n.textContent=l,\"function\"==typeof PR.prettyPrintOne&&(l=n.textContent,l=PR.prettyPrintOne(l.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\"),t),n.innerHTML=l)}},o.checkAllGeneratorFunctionsDefined=function(e){for(var t=o.workspace.getAllBlocks(!1),n=[],l=0;l<t.length;l++){var c=t[l].type;e[c]||-1===n.indexOf(c)&&n.push(c)}var r=0==n.length;if(!r){var a=\"The generator code for the following blocks not specified for \"+e.name_+\":\\n - \"+n.join(\"\\n - \");Blockly.alert(a)}return r},o.init=function(){o.initLanguage();var e=o.isRtl(),t=document.getElementById(\"content_area\"),n=function(e){for(var n=o.getBBox_(t),l=0;l<o.TABS_.length;l++){var c=document.getElementById(\"content_\"+o.TABS_[l]);c.style.top=n.y+\"px\",c.style.left=n.x+\"px\",c.style.height=n.height+\"px\",c.style.height=2*n.height-c.offsetHeight+\"px\",c.style.width=n.width+\"px\",c.style.width=2*n.width-c.offsetWidth+\"px\"}o.workspace&&o.workspace.toolbox_.width&&(document.getElementById(\"tab_blocks\").style.minWidth=o.workspace.toolbox_.width-38+\"px\")};for(var l in window.addEventListener(\"resize\",n,!1),MSG)0==l.indexOf(\"cat\")&&(Blockly.Msg[l.toUpperCase()]=MSG[l]);var c=null,r=new XMLHttpRequest;r.open(\"GET\",\"toolbox/blocklyduino.xml\",!1),r.send(),4==r.readyState&&200==r.status&&(c=r.responseXML);var a=(new XMLSerializer).serializeToString(c.documentElement);o.workspace=Blockly.inject(\"content_blocks\",{grid:{spacing:25,length:3,colour:\"#ccc\",snap:!0},media:\"../blockly/media/\",sounds:!0,rtl:e,toolbox:a,trashcan:!0,zoom:{controls:!0,wheel:!0,startScale:1,maxScale:5,minScale:.2,scaleSpeed:1.2}}),o.loadBlocks(\"\"),\"BlocklyStorage\"in window&&BlocklyStorage.backupOnUnload(o.workspace),o.tabClick(o.selected),o.bindClick(\"uploadButton\",function(){o.uploadClick()}),o.bindClick(\"resetButton\",function(){o.resetClick()}),o.bindClick(\"trashButton\",function(){o.discard(),o.renderContent()}),o.bindClick(\"saveCodeButton\",function(){o.saveCode()}),o.bindClick(\"saveXMLButton\",function(){o.saveXML()});for(var i=0;i<o.TABS_.length;i++){var s=o.TABS_[i];o.bindClick(\"tab_\"+s,function(e){return function(){o.tabClick(e)}}(s))}n(),Blockly.svgResize(o.workspace),window.setTimeout(o.importPrettify,1)},o.initLanguage=function(){var e=o.isRtl();document.dir=e?\"rtl\":\"ltr\",document.head.parentElement.setAttribute(\"lang\",o.LANG);var t=[];for(var n in o.LANGUAGE_NAME)t.push([o.LANGUAGE_NAME[n],n]);t.sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0});var l=document.getElementById(\"languageMenu\");l.options.length=0;for(var c=0;c<t.length;c++){var r=t[c],a=(n=r[r.length-1],new Option(r[0],n));n==o.LANG&&(a.selected=!0),l.options.add(a)}l.addEventListener(\"change\",o.changeLanguage,!0),document.title+=\" \"+MSG.title,document.getElementById(\"tab_blocks\").textContent=MSG.blocks,document.getElementById(\"trashButton\").title=MSG.trashTooltip,document.getElementById(\"title2\").textContent=Blockly.Msg.TITLE2,document.getElementById(\"uploadButton_span\").textContent=MSG.uploadButton_span,document.getElementById(\"resetButton_span\").textContent=MSG.resetButton_span,document.getElementById(\"trashButton_span\").textContent=MSG.trashButton_span,document.getElementById(\"saveCodeButton_span\").textContent=MSG.saveCodeButton_span,document.getElementById(\"saveXMLButton_span\").textContent=MSG.saveXMLButton_span,document.getElementById(\"loadXMLfakeButton_span\").textContent=MSG.loadXMLfakeButton_span},o.discard=function(){var e=o.workspace.getAllBlocks(!1).length;(e<2||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace(\"%1\",e)))&&(o.workspace.clear(),window.location.hash&&(window.location.hash=\"\"))},document.write('<script src=\"../blockly/msg/js/'+o.LANG+'.js\"><\\/script>\\n'),document.write('<script src=\"./msg/blocklyduino/'+o.LANG+'.js\"><\\/script>\\n'),document.write('<script src=\"./msg/blocks/'+o.LANG+'.js\"><\\/script>\\n'),window.addEventListener(\"load\",o.init)}]);","extractedComments":[]}